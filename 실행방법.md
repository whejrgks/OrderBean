# OrderBean 실행 방법

## 사전 요구사항

- **Python 3.11 이상**
- **Node.js 18 이상** 및 npm
- (선택) PostgreSQL (현재는 메모리 기반으로 동작하므로 필수 아님)

## 실행 단계

### 1. 백엔드 실행

```bash
# 프로젝트 루트 디렉토리에서
cd backend

# Python 가상환경 생성 (선택사항, 권장)
python -m venv venv

# 가상환경 활성화
# Windows:
venv\Scripts\activate
# Mac/Linux:
source venv/bin/activate

# 의존성 설치
pip install -r requirements.txt

# 서버 실행
python run.py
```

백엔드 서버가 **http://localhost:5000**에서 실행됩니다.

**확인 방법:**
- 브라우저에서 http://localhost:5000/health 접속 → `{"status":"ok"}` 응답 확인
- API 문서: http://localhost:5000/docs

---

### 2. 프론트엔드 실행

**새 터미널 창에서:**

```bash
# 프로젝트 루트 디렉토리에서
cd frontend

# 의존성 설치 (최초 1회만)
npm install

# 개발 서버 실행
npm run dev
```

프론트엔드 서버가 **http://localhost:5173** (또는 다른 포트)에서 실행됩니다.

**확인 방법:**
- 브라우저에서 http://localhost:5173 접속
- 주문하기 화면과 관리자 화면이 표시됩니다

---

## 전체 실행 순서 요약

1. **터미널 1 (백엔드)**
   ```bash
   cd backend
   pip install -r requirements.txt
   python run.py
   ```

2. **터미널 2 (프론트엔드)**
   ```bash
   cd frontend
   npm install  # 최초 1회만
   npm run dev
   ```

3. **브라우저에서 접속**
   - 프론트엔드: http://localhost:5173
   - 백엔드 API 문서: http://localhost:5000/docs

---

## 주요 기능 테스트

### 주문하기 화면
1. http://localhost:5173 접속
2. 메뉴 선택 및 옵션(샷 추가, 시럽 추가) 선택
3. "담기" 버튼 클릭
4. 장바구니에서 수량 조정
5. "주문하기" 버튼 클릭

### 관리자 화면
1. http://localhost:5173 접속
2. 상단 "관리자" 버튼 클릭
3. 주문 현황에서 주문 확인
4. "주문 접수" 버튼으로 주문 상태 변경
5. 재고 현황에서 재고 수량 조정

---

## 문제 해결

### 백엔드가 실행되지 않는 경우
- Python 버전 확인: `python --version` (3.11 이상 필요)
- 포트 5000이 사용 중인 경우: 다른 포트 사용 또는 기존 프로세스 종료
- 의존성 설치 확인: `pip list`로 패키지 확인

### 프론트엔드가 실행되지 않는 경우
- Node.js 버전 확인: `node --version` (18 이상 필요)
- 포트 충돌: Vite가 자동으로 다른 포트 사용
- 의존성 설치 확인: `node_modules` 폴더 확인

### API 연결 오류
- 백엔드 서버가 실행 중인지 확인
- 브라우저 콘솔(F12)에서 에러 메시지 확인
- `frontend/vite.config.ts`의 proxy 설정 확인

---

## 개발 모드 특징

- **백엔드**: 코드 변경 시 자동 재시작 (reload=True)
- **프론트엔드**: Hot Module Replacement (HMR) 지원
- **데이터**: 현재는 메모리 기반으로 저장되므로 서버 재시작 시 초기화됨

---

## 프로덕션 빌드

### 프론트엔드 빌드
```bash
cd frontend
npm run build
```

빌드된 파일은 `frontend/dist` 폴더에 생성됩니다.

### 백엔드 배포
```bash
cd backend
# 프로덕션 모드로 실행 (reload=False)
uvicorn app.main:app --host 0.0.0.0 --port 5000
```

